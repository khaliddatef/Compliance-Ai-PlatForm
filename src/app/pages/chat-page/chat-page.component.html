<div class="chat-layout" [class.panel-hidden]="!rightPanelOpen">
  <section class="chat-main">
    <app-chat-header
      [title]="conversationTitle"
      status="Live"
      subtitle="Compliance workspace Â· Payment launch"
      [showSummaryButton]="true"
      [showMenuButton]="isMobile"
      (menuToggle)="toggleSidebar()"
      (summaryToggle)="toggleRightPanel()"
    ></app-chat-header>

    <app-message-list [messages]="messages" [typing]="typing"></app-message-list>
    <app-composer
      (send)="handleComposerSend($event)"
      [uploading]="uploading"
      [uploadProgress]="uploadProgress"
      [resetKey]="attachmentResetKey"
    ></app-composer>
  </section>

  <aside class="panel-wrap" *ngIf="rightPanelOpen">
    <app-right-panel
      [open]="rightPanelOpen"
      [loading]="loadingCompliance"
      [standard]="selectedStandard"
      [result]="complianceResult"
      (standardChange)="changeStandard($event)"
      (close)="toggleRightPanel()"
    ></app-right-panel>
  </aside>

  <div
    class="panel-overlay"
    *ngIf="rightPanelOpen"
    (click)="toggleRightPanel()"
    aria-hidden="true"
  ></div>
</div>
